define(["require","angular"],function(e){var t=e("angular");return function(e){e.controller("editorControl",["$scope","$http","$location","baseUrl",function(e,t,n,r){var i=n.search().id;e.content={componentName:"rootComponent",tree:[{}]};if(i=="localSource"){var s=JSON.parse(localStorage.getItem("article"));e.content.tree=s.content,e.type=s.type,e.title=s.title,e.source=s.source}else i&&t({url:r.baseUrl+"system/content/filter/queryContentById_async",method:"get",params:{id:i}}).success(function(t){t.success&&(e.content.tree=t.data.contentObj,e.type=t.data.type,e.title=t.data.title,e.source=t.data.source)});e.save=function(){t({url:r.baseUrl+"system/content/filter/saveOrUpdateContent_async",method:"post",data:{content:e.tree,title:e.title,type:e.type,source:e.source,id:i},headers:{"Content-Type":"application/json;"}}).success(function(e){alert(e.msg)})},e.show=function(){localStorage.setItem("article",JSON.stringify({content:e.tree,title:e.title,type:e.type,source:e.source}))}}])}});
