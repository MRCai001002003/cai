<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">
    <title>征信技术部前端工程文档</title>
    <link rel="stylesheet" type="text/css" href="index/index.css">
</head>

<body>
    <div class="title">
        <div class="title-wrap cn">
            <h1>征信技术部前端工程文档</h1>
            <div>
                <p>Author:谭波</p>
                <p>Date: 2015-4-30</p>
            </div>
        </div>
    </div>
    <div class="main cn">
        <div class="project-des">
            <div>项目简介：</div>
            <p>项目采用seajs作为js模块化工具，用sass构建css模块，通用类库为cmd封装后的jquery。</p>
            <p>项目采用grunt构建，并自动化。</p>
        </div>
        <div class="folder-root">
            <h3>目录说明：</h3>
            <div class="child-folder">
                <div><strong>如无意外，每一个js和scss文件相关文件夹下面都应有一个README.md的自述文件，文件内容为简要描述当前文件的用途及调用方法</strong></div>
                <p><span class="folder">root</span>
                </p>
                <div class="child-folder">
                    <p><span class="folder">docs</span>项目前端文档</p>
                    <p><span class="folder">server</span>放置nodejs文件，用于前端模拟测试数据交互。</p>
                    <p><span class="folder">dist</span>编译后的文件，由grunt生成，无需人工维护。</p>
                    <p><span class="folder">fonts</span>项目依赖webFont文件，相关声明请查阅:root/src/common/scss/base/base.scss</p>
                    <div class="child-folder">
                    	<p><span class="folder">mobile_icons</span></p>
                    	<div class="child-folder">
                    		<p><span class="file-font">iconfont.woff</span></p>
                    	</div>
                    </div>
                    <p><span class="folder">library</span>通用类库文件（一般需要经过cmd封装）</p>
                    <div class="child-folder">
                        <p><span class="folder">jquery</span>jquery类库文件夹
                        </p>
                        <div class="child-folder">
                            <p><span class="folder">x.xxx.x</span>相关版本号</p>
                            <div class="child-folder">
                                <p><span class="file-js">name.js</span>压缩后类库文件</p>
                                <p><span class="file-js">name-debug.js</span>源代码文件</p>
                                <p><span class="folder">plugin</span>jquery类库插件</p>
                                <div class="child-folder">
                                    <p><span class="folder">pluginName</span>插件文件夹</p>
                                    <div class="child-folder">
                                        <p><span class="file-js">pluginName.js</span>
                                        </p>
                                        <p><span class="file-css">pluginName.css</span>
                                        </p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <p><span class="folder">node_modules</span>grunt依赖文件，无需人工维护</p>
                    <p><span class="folder">seajs</span>seajs源文件</p>
                    <p><span class="folder">images</span>项目所有图片文件</p>
                    <div class="child-folder">
                        <p><span class="folder">common</span>多页面共用文件</p>
                        <div class="child-folder">
                            <p><span class="folder">resources</span>资源性文件</p>
                            <p><span class="folder">decoration</span>装饰性文件</p>
                        </div>
                        <p><span class="folder">pages</span></p>
                        <div class="child-folder">
                            <p><span class="folder">pageName</span>单页面文件</p>
                            <div class="child-folder">
                                <p><span class="folder">resources</span>资源性文件</p>
                                <div class="child-folder">
                                    <p><span class="file-img">***.jpg</span>
                                    </p>
                                    <p><span class="file-img">***.gif</span>
                                    </p>
                                    <p><span class="file-img">***.png</span>
                                    </p>
                                </div>
                                <p><span class="folder">decoration</span>装饰性文件</p>
                                <div class="child-folder">
                                    <p><span class="file-img">***.jpg</span>
                                    </p>
                                    <p><span class="file-img">***.gif</span>
                                    </p>
                                    <p><span class="file-img">***.png</span>
                                    </p>
                                </div>
                            </div>
                        </div>
                        <div class="child-folder">
                            <p><span class="folder">pageName</span>单页面文件</p>
                            <div class="child-folder">
                                <p><span class="folder">resources</span>资源性文件</p>
                                <div class="child-folder">
                                    <p><span class="file-img">***.jpg</span>
                                    </p>
                                    <p><span class="file-img">***.gif</span>
                                    </p>
                                    <p><span class="file-img">***.png</span>
                                    </p>
                                </div>
                                <p><span class="folder">decoration</span>装饰性文件</p>
                                <div class="child-folder">
                                    <p><span class="file-img">***.jpg</span>
                                    </p>
                                    <p><span class="file-img">***.gif</span>
                                    </p>
                                    <p><span class="file-img">***.png</span>
                                    </p>
                                </div>
                            </div>
                        </div>
                    </div>
                    <p><span class="folder">src</span>项目源文件（js文件为cmd模块，css全部为sass文件）</p>
                    <div class="child-folder">
                        <p><span class="folder">common</span>项目公共js，sass文件</p>
                        <div class="child-folder">
                            <p><span class="folder">js</span>项目工具类方法，非插件
                            </p>
                            <div class="child-folder">
                                <p><span class="folder">name1</span>
                                </p>
                                <div class="child-folder">
                                    <p><span class="file-js">name1.js</span>
                                    </p>
                                    <p><span class="file-scss">name1.scss</span>
                                    </p>
                                    <p><span class="folder">test</span>dome及测试文件</p>
                                </div>
                                <p><span class="folder">name2</span>
                                </p>
                                <div class="child-folder">
                                    <p><span class="file-js">name2.js</span>
                                    </p>
                                    <p><span class="file-scss">name2.scss</span>
                                    </p>
                                    <p><span class="folder">test</span>dome及测试文件</p>
                                </div>
                            </div>
                            <p><span class="folder">scss</span>存放项目公共scss文件</p>
                            <div class="child-folder">
                                <p><span class="folder">base</span>项目公用样式
                                </p>
                                <div class="child-folder">
                                    <p><span class="file-scss">base.scss</span>
                                    </p>
                                </div>
                                <p><span class="folder">variable</span>项目全局变量（页面不直接引用）
                                </p>
                                <div class="child-folder">
                                    <p><span class="file-scss">variable.scss</span>
                                    </p>
                                </div>
                                <p><span class="folder">input</span>项目表单全局样式
                                </p>
                                <div class="child-folder">
                                    <p><span class="file-scss">input.scss</span>
                                    </p>
                                </div>
                                <p><span class="folder">mixins</span>项目公共mixin，（页面不直接引用）
                                </p>
                                <div class="child-folder">
                                    <p><span class="file-scss">mixins.scss</span>
                                    </p>
                                </div>
								<p><span class="folder">reset</span>项目重置css样式
                                </p>
                                <div class="child-folder">
                                    <p><span class="file-scss">reset.scss</span>
                                    </p>
                                </div>
                            </div>
                        </div>
                        <p><span class="folder">pages</span>
                        </p>
                        <div class="child-folder">
                            <p><span class="folder">pageName</span>
                            </p>
                            <div class="child-folder">
                                <p><span class="folder">js</span>
                                </p>
                                <div class="child-folder">
                                    <p><span class="file-js">main.js</span>
                                    </p>
                                    <p><span class="file-js">data.js</span>
                                    </p>
                                    <p><span class="file-js">show.js</span>
                                    </p>
                                </div>
                                <p><span class="folder">style</span>
                                </p>
                                <div class="child-folder">
                                    <p><span class="file-scss">index.scss</span>
                                    </p>
                                    <p><span class="file-scss">tab.scss</span>
                                    </p>
                                    <p><span class="file-scss">banner.scss</span>
                                    </p>
                                </div>
                            </div>
                        </div>
                    </div>
                    <p><span class="file-js">Gruntfile.js</span>Grunt配置文件（重要文件，请勿随意更改）</p>
                    <p><span class="file-json">package.json</span>Grunt依赖文件（重要文件，请勿随意更改）</p>
                    <p><span class="file-js">seajs-config</span>seajs配置文件（重要文件，请勿随意更改）</p>
                </div>
            </div>
        </div>
        <div class="config">
            <h3>环境配置：</h3>
            <div class="child-folder">
                <p><span class="step-list">1</span>安装node</p>
                <div class="child-folder">
                    <p>https://nodejs.org/</p>
                </div>
                <p><span class="step-list">2</span>安装ruby及sass</p>
                <div class="child-folder">
                    <p>因为sass依赖于ruby环境，所以装sass之前先确认装了ruby。先导官网下载<a href="http://rubyinstaller.org/downloads" >ruby</a>
                    </p>
                    <p>在安装的时候，请<strong>勾选Add Ruby executables to your PATH</strong>这个选项，添加环境变量，不然以后使用编译软件的时候会提示找不到ruby环境</p>
                    <p>
                        <img src="index/ruby.png" alt="">
                    </p>
                    <p>淘宝RubyGems镜像安装 sass</p>
                    <p>由于国内网络原因（你懂的），导致 rubygems.org 存放在 Amazon S3 上面的资源文件间歇性连接失败。这时候我们可以通过gem sources命令来配置源，先移除默认的https://rubygems.org源，然后添加淘宝的源https://ruby.taobao.org/，然后查看下当前使用的源是哪个，如果是淘宝的，则表示可以输入sass安装命令gem install sass了。具体操作演示如下：</p>
                    <div class="code-demo">
                        <p>$ gem sources --remove https://rubygems.org/</p>
                        <p>$ gem sources -a https://ruby.taobao.org/</p>
                        <p>$ gem sources -l</p>
                        <p>*** CURRENT SOURCES ***</p>
                        <p>https://ruby.taobao.org</p>
                        <p># 请确保只有 ruby.taobao.org</p>
                        <p>$ gem install sass</p>
                    </div>
                </div>
                <p><span class="step-list">3</span>svn同步文件</p>
                <p><span class="step-list">4</span>安装grunt</p>
                <div class="child-folder">
                    <p>进入项目web目录，打开cmd，输入以下命令</p>
                    <div class="code-demo">
                        <p>$ npm install</p>
                    </div>
                    <p>这时npm会根据package.json中的配置自动下载相关文件，如果是package.json的内容：</p>
                    <p><img src="index/package.png" alt=""></p>
                </div>
                <p><span class="step-list">5</span>运行grunt watch</p>
                <div class="child-folder">
                	<p>在控制台输入grunt watch，如出现以下信息，则表示项目相关配置正确完成</p>
                	<div class="code-demo">
                		<p>$ grunt watch</p>
                		<p>Running "watch" task</p>
                		<p>waiting...</p>
                	</div>
                </div>
            </div>
        </div>
    </div>
</body>

</html>
